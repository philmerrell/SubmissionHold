<div *ngIf="!festivalRequestComplete" class="ion-text-center">
  <ion-spinner name="crescent"></ion-spinner>
</div>
<div *ngIf="festival" class="ion-padding">
  <ion-header mode="ios" collapse="condense">
    <ion-toolbar style="--background: transparent">
      <ion-title size="large">{{ festival.name }}</ion-title>
    </ion-toolbar>
  </ion-header>

  <div style="margin-left: 20px;">
    <p>{{ festival.guidelines }}</p>
  </div>

  <ion-card>
    <ion-card-header>
      <ion-card-title>
        Choose a category
      </ion-card-title>
    </ion-card-header>

    <ion-list *ngIf="fortsRequestComplete">
      <div *ngFor="let fort of fortLinks">
        <ion-item *ngIf="!fort.external" routerLink="/submission" [queryParams]="{ fort: fort.name }" button detail>
          <!-- <ion-icon slot="start" color="secondary" name="musical-notes-outline"></ion-icon> -->
          <ion-label class="ion-text-wrap">
            <h1>{{ fort.name }}</h1>
            <p>{{ fort.description }}</p>
          </ion-label>
        </ion-item>
        <ion-item *ngIf="fort.external" [href]="fort.url" target="_blank" button detail>
          <ion-label class="ion-text-wrap">
            <h1>{{ fort.name }}</h1>
            <p>{{ fort.description }}</p>
          </ion-label>
        </ion-item>
      </div>
    </ion-list>
  </ion-card>

  <ion-list *ngIf="!fortsRequestComplete">
    <ion-item>
      <ion-skeleton-text animated></ion-skeleton-text>
    </ion-item>
    <ion-item>
      <ion-skeleton-text animated></ion-skeleton-text>
    </ion-item>
    <ion-item>
      <ion-skeleton-text animated></ion-skeleton-text>
    </ion-item>
  </ion-list>
</div>

<div *ngIf="!festivalRequestComplete" style="text-align: center">
  <ion-spinner name="crescent" style="height: 3em; width: 3em;"></ion-spinner>
</div>